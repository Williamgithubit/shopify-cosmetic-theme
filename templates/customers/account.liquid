<div class="customer-account section-spacing">
  <div class="page-width">
    <h1 class="customer-account__title h2">{{ 'customer.account.title' | t }}</h1>

    <div class="customer-account__content">
      <div class="customer-account__orders">
        <h2 class="h3">{{ 'customer.orders.title' | t }}</h2>

        {%- if customer.orders.size > 0 -%}
          <div class="customer-account__orders-table">
            <table>
              <thead>
                <tr>
                  <th>{{ 'customer.orders.order_number' | t }}</th>
                  <th>{{ 'customer.orders.date' | t }}</th>
                  <th>{{ 'customer.orders.payment_status' | t }}</th>
                  <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
                  <th>{{ 'customer.orders.total' | t }}</th>
                </tr>
              </thead>
              <tbody>
                {%- for order in customer.orders limit: 10 -%}
                  <tr>
                    <td data-label="{{ 'customer.orders.order_number' | t }}">
                      <a href="{{ order.customer_url }}">{{ order.name }}</a>
                    </td>
                    <td data-label="{{ 'customer.orders.date' | t }}">
                      {{ order.created_at | date: format: 'date' }}
                    </td>
                    <td data-label="{{ 'customer.orders.payment_status' | t }}">
                      {{ order.financial_status_label }}
                    </td>
                    <td data-label="{{ 'customer.orders.fulfillment_status' | t }}">
                      {{ order.fulfillment_status_label }}
                    </td>
                    <td data-label="{{ 'customer.orders.total' | t }}">
                      {{ order.total_price | money }}
                    </td>
                  </tr>
                {%- endfor -%}
              </tbody>
            </table>
          </div>
        {%- else -%}
          <p>{{ 'customer.orders.none' | t }}</p>
        {%- endif -%}
      </div>

      <div class="customer-account__details">
        <h2 class="h3">{{ 'customer.account.details' | t }}</h2>
        
        <div class="customer-account__info">
          <p><strong>{{ customer.name }}</strong></p>
          <p>{{ customer.email }}</p>
        </div>

        <div class="customer-account__actions">
          <a href="{{ routes.account_addresses_url }}" class="button button--secondary">
            {{ 'customer.account.view_addresses' | t }} ({{ customer.addresses_count }})
          </a>
          <a href="{{ routes.account_logout_url }}" class="button button--secondary">
            {{ 'customer.log_out' | t }}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .customer-account__content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 40px;
    margin-top: 30px;
  }
  
  @media screen and (max-width: 749px) {
    .customer-account__content {
      grid-template-columns: 1fr;
    }
  }
  
  .customer-account__orders-table {
    overflow-x: auto;
    margin-top: 20px;
  }
  
  .customer-account__orders-table table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .customer-account__orders-table th,
  .customer-account__orders-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--color-border);
  }
  
  .customer-account__orders-table th {
    font-weight: 600;
    background-color: #f9f9f9;
  }
  
  .customer-account__orders-table a {
    color: var(--color-primary);
    text-decoration: none;
  }
  
  .customer-account__orders-table a:hover {
    text-decoration: underline;
  }
  
  @media screen and (max-width: 749px) {
    .customer-account__orders-table thead {
      display: none;
    }
    
    .customer-account__orders-table td {
      display: block;
      text-align: right;
      padding: 8px 12px;
    }
    
    .customer-account__orders-table td::before {
      content: attr(data-label);
      float: left;
      font-weight: 600;
    }
    
    .customer-account__orders-table tr {
      margin-bottom: 15px;
      border: 1px solid var(--color-border);
    }
  }
  
  .customer-account__details {
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: var(--border-radius);
  }
  
  .customer-account__info {
    margin: 20px 0;
  }
  
  .customer-account__info p {
    margin-bottom: 5px;
  }
  
  .customer-account__actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
</style>
