<div class="customer-recover section-spacing">
  <div class="page-width">
    <div class="customer-recover__wrapper" style="max-width: 500px; margin: 0 auto;">
      <h1 class="customer-recover__title h2">{{ 'customer.recover_password.title' | t }}</h1>
      <p class="customer-recover__subtext">{{ 'customer.recover_password.subtext' | t }}</p>

      {%- form 'recover_customer_password', novalidate: 'novalidate' -%}
        {%- if form.posted_successfully? -%}
          <div class="form__message form__message--success" role="status">
            {{ 'customer.recover_password.success' | t }}
          </div>
        {%- endif -%}

        {%- if form.errors -%}
          <div class="form__message form__message--error" role="alert">
            <h2 class="form__message-title h3">
              {{ 'templates.contact.form.error_heading' | t }}
            </h2>
            <ul>
              {%- for field in form.errors -%}
                <li>
                  {%- if field == 'form' -%}
                    {{ form.errors.messages[field] }}
                  {%- else -%}
                    {{ form.errors.translated_fields[field] | capitalize }} {{ form.errors.messages[field] }}
                  {%- endif -%}
                </li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}

        <div class="field">
          <label for="RecoverEmail">{{ 'customer.recover_password.email' | t }}</label>
          <input
            type="email"
            name="email"
            id="RecoverEmail"
            autocomplete="email"
            autocapitalize="off"
            {% if form.errors contains 'email' %}
              aria-invalid="true"
              aria-describedby="RecoverEmail-error"
            {% endif %}
            required
          >
          {%- if form.errors contains 'email' -%}
            <small id="RecoverEmail-error" class="form__message">
              {{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}
            </small>
          {%- endif -%}
        </div>

        <div class="customer-recover__actions">
          <button type="submit" class="button button--primary button--full-width">
            {{ 'customer.recover_password.submit' | t }}
          </button>
        </div>

        <div class="customer-recover__cancel">
          <a href="{{ routes.account_login_url }}">
            {{ 'customer.recover_password.cancel' | t }}
          </a>
        </div>
      {%- endform -%}
    </div>
  </div>
</div>

<style>
  .customer-recover__subtext {
    margin-bottom: 30px;
    color: #666;
  }
  
  .customer-recover__actions {
    margin: 30px 0 20px;
  }
  
  .customer-recover__cancel {
    text-align: center;
  }
  
  .customer-recover__cancel a {
    color: var(--color-primary);
    text-decoration: none;
  }
  
  .customer-recover__cancel a:hover {
    text-decoration: underline;
  }
  
  .form__message--success {
    padding: 15px;
    background-color: #e8f5e9;
    color: #2e7d32;
    border-radius: var(--border-radius);
    margin-bottom: 20px;
  }
</style>
